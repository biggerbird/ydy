webpackJsonp([20],{0:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(11),n=s(i),f=a(769),l=s(f);new n.default({el:"body",components:{App:l.default}})},6:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(2),n=s(i);a(4);n.default.Vue.use(n.default.Resource),t.exports={data:function(){return{title:""}},props:["html"],ready:function(){this.title=document.title},methods:{back:function(){this.html?window.location.href=this.html:history.back()}}}},7:function(t,e){},8:function(t,e){t.exports=' <div class=height _v-526c7022=""></div> <div class="backbar clearfix" id=header _v-526c7022=""> <a @click=back class=back _v-526c7022=""><i class="iconfont icon-back" _v-526c7022=""></i></a> <h2 class="title ellipsis" id=title _v-526c7022="">{{title}}</h2> <a href=home.html class=home _v-526c7022=""><i class="iconfont icon-back" _v-526c7022=""></i></a> </div> '},9:function(t,e,a){var s,i,n={};a(7),s=a(6),i=a(8),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var f="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(f.template=i),f.computed||(f.computed={}),Object.keys(n).forEach(function(t){var e=n[t];f.computed[t]=function(){return e}})},127:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(2),n=s(i),f=a(44),l=s(f),o=a(4);n.default.Vue.use(n.default.Resource),t.exports={data:function(){},props:["name","title","classname","url","userid"],ready:function(){this.setsome(l.default),this.start()},methods:{getdata:function(){},setsome:function(t){var e;t.fn.uploadView=function(a){var s={uploadBox:".uploadBox",showBox:".showBox",width:200,height:200,allowType:["gif","jpeg","jpg","bmp","png"],maxSize:1,success:t.noop},i=t.extend(s,a),n=i.showBox,f=i.uploadBox,l=i.width,p=i.height,r=i.allowType,u=i.maxSize,c=i.success;t(this).each(function(e){t(this).change(function(e){d(t(this),l,p,r,u,c)})});var d=function(t,a,s,i,l,p){if("undefined"==typeof FileReader)return!1;var r=t.closest(f);if("undefined"!=typeof r.length){var u=t[0].files,c=u[0];if(!m(c.name,i))return(0,o.Toast)("图片类型必须是"+i.join("，")+"中的一种"),!1;var d=c.size,v=1024*l*1024;if(d>v)return(0,o.Toast)("上传图片超出允许上传大小"),!1;var h=new FileReader;h.onload=function(t){return function(t){var i=t.target.result;i.lastIndexOf("data:base64")!=-1?i=i.replace("data:base64","data:image/jpeg;base64"):i.lastIndexOf("data:,")!=-1&&(i=i.replace("data:,","data:image/jpeg;base64,"));var f='<img src="'+i+'"/>';r.find(n).show().html(f),e=a&&s?{width:a+"px",height:s+"px"}:a?{width:a+"px"}:s?{height:s+"px"}:{"max-width":"360px","max-height":"200px"},r.find(n+" img").css(e),p()}}(c),h.readAsDataURL(c)}},v=function(t){if(!t)return"";var e=t.lastIndexOf(".");return e<1?"":t.substr(e+1)},m=function(e,a){var s=v(e).toLowerCase();return a||(a=["jpg","jpeg","png","gif","bmp"]),t.inArray(s,a)!=-1}}},start:function(){var t=this;(0,l.default)("."+this.classname).uploadView({uploadBox:".uploadBox",showBox:".showBox",width:"auto",height:"auto",allowType:["gif","jpeg","jpg","bmp","png"],maxSize:2,success:function(e){t.ajax()}})},ajax:function(){var t=new FormData,e=(0,l.default)("#"+this.classname).find("img").attr("src");o.Indicator.open("上传中..."),t.append(this.name,e),t.append("userId",this.userid),l.default.ajax({url:this.url,type:"POST",cache:!1,data:t,processData:!1,contentType:!1,success:function(t){"200"==t.code?(o.Indicator.close(),(0,o.Toast)("上传成功")):(o.Indicator.close(),(0,o.Toast)("上传失败"))}})}}}},155:function(t,e){},159:function(t,e){t.exports=' <div class="uploadBox fl" _v-1fd2e34e=""> <div class=showBox :id=classname _v-1fd2e34e=""></div> <h4 _v-1fd2e34e="">{{title}}</h4> <div class=btn-upload _v-1fd2e34e=""> <input :class=classname accept=image/.jpg,image/.jpeg,image/.png :name=name type=file _v-1fd2e34e=""> </div> </div> '},164:function(t,e,a){var s,i,n={};a(155),s=a(127),i=a(159),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var f="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(f.template=i),f.computed||(f.computed={}),Object.keys(n).forEach(function(t){var e=n[t];f.computed[t]=function(){return e}})},299:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(2),n=s(i),f=a(4),l=a(9),o=s(l),p=a(164),r=s(p);n.default.Vue.component(f.Popup.name,f.Popup),n.default.Vue.component(f.Button.name,f.Button),n.default.Vue.component(f.Field.name,f.Field),n.default.Vue.component(f.Checklist.name,f.Checklist),n.default.Vue.component(f.Radio.name,f.Radio),e.default={data:function(){return{inputs1:{name:"zid",class:"zid",title:"身份证正面"},inputs2:{name:"fid",class:"fid",title:"身份证反面"},inputs3:{name:"business",class:"business",title:"机构营业执照"},inputs4:{name:"artist1",class:"artist1",title:"艺术品"},inputs5:{name:"artist2",class:"artist2",title:"艺术品"},inputs6:{name:"artist3",class:"artist3",title:"艺术品"},inputs7:{name:"artist4",class:"artist4",title:"艺术品"},userid:"",user:"",truename:"",college:"",phone:"",fid:"",reason:"",mechanism:"",credit:"",introduce:"",agree:["true"],status:"",url:"",type:"00",applytype:0,popupVisible:!1,popupVisible2:!1,ensure:"2000￥",level:"2300",options:[{label:"认证级(300￥)",value:"2300"},{label:"铜级(800￥)",value:"2800"},{label:"银级(1500￥)",value:"3500"},{label:"金级(2800￥)",value:"4800"}],paypwd:"",agentphone:"",ratio:"1",agentName:"",endate:"",begindate:"",artsales:"0",agentsales:"0"}},components:{topBack:o.default,setArtimg:r.default},ready:function(){this.getData(),this.url=n.default.C.Mpath+"prove/upload"},methods:{getData:function(){f.Indicator.open(),this.$http.jsonp(n.default.C.Mpath+"prove").then(function(t){f.Indicator.close(),this.userid=t.data.user.id,this.user=t.data.user,this.type=t.data.type,this.status=t.data.apply.status,this.agentName=t.data.agentName,this.endate=t.data.endate,this.begindate=t.data.begindate,this.agentsales=t.data.totalseller},function(){f.Indicator.close(),(0,f.Toast)("请求出错")})},apply:function(t){this.applytype=t},prove:function(){if(!this.testChinese()||!this.testFid())return!1;if(1==this.applytype){if(""==this.college)return(0,f.Toast)("请填写你的毕业院校"),!1;if(""==this.reason)return(0,f.Toast)("请填写你的艺术之旅"),!1}if(3==this.applytype){if(""==this.mechanism)return(0,f.Toast)("请填写机构名称"),!1;if(""==this.credit)return(0,f.Toast)("请填写统一社会信用代码"),!1;if(""==this.introduce)return(0,f.Toast)("请填写机构介绍"),!1}if("true"!=this.agree)return(0,f.Toast)("请阅读并同意入驻协议"),!1;var t,e="truename="+this.truename+"&fid="+this.fid;1==this.applytype&&(t="prove/ajaxsave?"+e+"&college="+this.college+"&reason="+this.reason+"&agree="+this.agree),2==this.applytype&&(t="prove/ajaxPersonalSave?"+e+"&agree="+this.agree),3==this.applytype&&(t="prove/ajaxMechanismSave?"+e+"&mechanism="+this.mechanism+"&credit="+this.credit+"&introduce="+this.introduce+"&agree="+this.agree),this.$http.jsonp(n.default.C.Mpath+t).then(function(t){1==t.data.status?((0,f.Toast)("提交成功，请等待审核"),setTimeout(function(){location.reload()},2e3)):(0,f.Toast)("提交失败，请稍后再试")},function(){(0,f.Toast)("请求出错")})},show:function(){this.popupVisible=!0},show2:function(){this.popupVisible2=!0},upgrade:function(){return!!this.testPaypass(this.paypwd)&&void this.$http.jsonp(n.default.C.Mpath+"prove/ajaxSaveMoney?level="+this.level+"&paypwd="+this.paypwd).then(function(t){200==t.data.status?((0,f.Toast)(t.data.message),setTimeout(function(){location.reload()},2e3)):(0,f.Toast)(t.data.message)},function(){(0,f.Toast)("请求出错")})},setagent:function(){return this.agentphone?!this.rate||this.rate>99.9||this.rate<0?((0,f.Toast)("请填写正确的分成比例"),flase):void this.$http.jsonp(n.default.C.Mpath+"prove/getPersonAgent?agentphone="+this.agentphone+"&rate="+this.rate).then(function(t){1==t.data.status?((0,f.Toast)(t.data.message),setTimeout(function(){location.reload()},2e3)):(0,f.Toast)(t.data.message)},function(){(0,f.Toast)("请求出错")}):((0,f.Toast)("请填写独家经纪人手机号码"),flase)},testChinese:function(){var t=/^[\u4e00-\u9fa5]+$/;return!(!t.test(this.truename)||""==this.truename)||((0,f.Toast)("请输入真实姓名"),!1)},testFid:function(){var t=/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/;return!(!t.test(this.fid)||""==this.fid)||((0,f.Toast)("请输入正确的身份证号码"),!1)},testPaypass:function(t){var e=/^\d{6}$/;return!!e.test(t)||((0,f.Toast)("请填写6位数支付密码"),!1)}}}},626:function(t,e){},693:function(t,e){t.exports=' <top-back _v-1f6e60f8=""></top-back> <template v-if="type == \'02\'"> <div class=prompt _v-1f6e60f8=""><i class="icon iconfont red" _v-1f6e60f8=""></i> 您的申请未通过，请重新提交</div> </template> <template v-if="type == \'01\'"> <div class=prompt _v-1f6e60f8=""><i class="icon iconfont red" _v-1f6e60f8=""></i> 您的申请正在审核中，请耐心等候……</div> </template> <template v-if="type ==\'00\' || type ==\'02\'"> <div class="center card" v-if="applytype == 0" _v-1f6e60f8=""> <mt-button type=primary size=large @click=apply(1) _v-1f6e60f8="">艺术家申请</mt-button><br _v-1f6e60f8=""> <mt-button type=primary size=large @click=apply(2) _v-1f6e60f8="">经纪人申请</mt-button><br _v-1f6e60f8=""> </div> <div class="imgs clearfix" v-if="applytype != 0" _v-1f6e60f8=""> <set-artimg :name=inputs1.name :classname=inputs1.class :title=inputs1.title :url=url :userid=userid _v-1f6e60f8=""></set-artimg> <set-artimg :name=inputs2.name :classname=inputs2.class :title=inputs2.title :url=url :userid=userid _v-1f6e60f8=""></set-artimg> <set-artimg :name=inputs3.name :classname=inputs3.class :title=inputs3.title :url=url :userid=userid v-if="applytype == 3" _v-1f6e60f8=""></set-artimg> <set-artimg :name=inputs4.name :classname=inputs4.class :title=inputs4.title :url=url :userid=userid v-if="applytype == 1" _v-1f6e60f8=""></set-artimg> <set-artimg :name=inputs5.name :classname=inputs5.class :title=inputs5.title :url=url :userid=userid v-if="applytype == 1" _v-1f6e60f8=""></set-artimg> <set-artimg :name=inputs6.name :classname=inputs6.class :title=inputs6.title :url=url :userid=userid v-if="applytype == 1" _v-1f6e60f8=""></set-artimg> <set-artimg :name=inputs7.name :classname=inputs7.class :title=inputs7.title :url=url :userid=userid v-if="applytype == 1" _v-1f6e60f8=""></set-artimg> </div> <mt-field placeholder=请输入真实姓名 :value.sync=truename v-if="applytype != 0" _v-1f6e60f8=""></mt-field> <mt-field placeholder=请输入身份证号码 :attr={maxlength:18} :value.sync=fid v-if="applytype != 0" _v-1f6e60f8=""></mt-field> <mt-field placeholder=机构名称 :value.sync=mechanism v-if="applytype == 3" _v-1f6e60f8=""></mt-field> <mt-field placeholder=统一社会信用代码 :attr={maxlength:18} :value.sync=credit v-if="applytype == 3" _v-1f6e60f8=""></mt-field> <mt-field placeholder=请输入毕业院校 :value.sync=college v-if="applytype == 1" _v-1f6e60f8=""></mt-field> <mt-field placeholder=我的艺术之旅 type=textarea rows=4 :value.sync=reason v-if="applytype == 1" _v-1f6e60f8=""></mt-field> <mt-field placeholder=机构介绍 type=textarea rows=4 :value.sync=introduce v-if="applytype == 3" _v-1f6e60f8=""></mt-field> <div class=agree v-if="applytype != 0" _v-1f6e60f8=""> <mt-checklist :value.sync=agree :options="[{label: \'阅读并同意\',value: \'true\'}]" _v-1f6e60f8=""></mt-checklist> <a href="settled.html?type=2" v-if="applytype == 1" _v-1f6e60f8="">《艺术家认证协议》</a> <a href="settled.htmltype=3" v-if="applytype == 2" _v-1f6e60f8="">《经纪人认证协议》</a> </div> <div class=page-button v-if="applytype != 0" _v-1f6e60f8=""> <mt-button type=primary size=large @click=prove _v-1f6e60f8="">提交</mt-button> </div> </template> <template v-if="type > 02"> <div class=addadr _v-1f6e60f8=""> <a class=userimg2 _v-1f6e60f8=""> <img class=faceurl :src=user.faceurl _v-1f6e60f8=""> </a> <template v-if="\'0\' < user.artlevel"> <div class=center _v-1f6e60f8=""> <div v-if=user.agentId _v-1f6e60f8=""> 独家经纪人：<span class=red _v-1f6e60f8="">{{agentName}}</span> 分成比例：<span class=red _v-1f6e60f8="">{{user.rate}}%</span> <mt-button type=primary size=small @click=show2 _v-1f6e60f8="">修改</mt-button> </div> <div class=prompt v-if="user.artlevel > 1 &amp;&amp; user.agentId" _v-1f6e60f8=""> <i class="icon iconfont red" _v-1f6e60f8=""></i> 您的有效期从 {{begindate}} 至 {{endate}} </div> <mt-button type=primary size=small _v-1f6e60f8="">艺术家LV{{user.artlevel}}</mt-button> <mt-button type=primary size=small @click=show v-if="user.artlevel == 1" _v-1f6e60f8="">缴费升级</mt-button> <mt-button type=primary size=small @click=show2 v-if="user.artlevel > 1 &amp;&amp; !user.agentId" _v-1f6e60f8="">设置独家经纪人</mt-button> 销售额：<span class=red _v-1f6e60f8="">{{artsales}} </span>元 <table class=ui-table _v-1f6e60f8=""> <colgroup _v-1f6e60f8=""> <col width=10 _v-1f6e60f8=""> <col width=10 _v-1f6e60f8=""> <col width=10 _v-1f6e60f8=""> </colgroup> <thead _v-1f6e60f8=""> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">等级</th><th _v-1f6e60f8="">推广位</th><th _v-1f6e60f8="">所需销售额</th></tr> </thead> <tbody _v-1f6e60f8=""> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">LV2</th><th _v-1f6e60f8="">50</th><th _v-1f6e60f8="">0</th></tr> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">LV3</th><th _v-1f6e60f8="">10</th><th _v-1f6e60f8="">10000</th></tr> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">LV4</th><th _v-1f6e60f8="">20</th><th _v-1f6e60f8="">20000</th></tr> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">LV5</th><th _v-1f6e60f8="">500</th><th _v-1f6e60f8="">30000</th></tr> </tbody> </table> </div> </template> <template v-if="\'0\' < user.agentlevel &amp;&amp; user.agentlevel < \'6\'"> <div class=center _v-1f6e60f8=""> <mt-button type=primary size=small _v-1f6e60f8="">经纪人LV{{user.agentlevel}}</mt-button> 销售额：<span class=red _v-1f6e60f8="">{{totalseller}} </span>元 <table class=ui-table _v-1f6e60f8=""> <colgroup _v-1f6e60f8=""> <col width=10 _v-1f6e60f8=""> <col width=10 _v-1f6e60f8=""> <col width=10 _v-1f6e60f8=""> </colgroup> <thead _v-1f6e60f8=""> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">等级</th><th _v-1f6e60f8="">推广位</th><th _v-1f6e60f8="">所需销售额</th></tr> </thead> <tbody _v-1f6e60f8=""> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">LV1</th><th _v-1f6e60f8="">1</th><th _v-1f6e60f8="">0</th></tr> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">LV2</th><th _v-1f6e60f8="">3</th><th _v-1f6e60f8="">10000</th></tr> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">LV3</th><th _v-1f6e60f8="">5</th><th _v-1f6e60f8="">20000</th></tr> <tr _v-1f6e60f8=""><th _v-1f6e60f8="">LV4</th><th _v-1f6e60f8="">7</th><th _v-1f6e60f8="">30000</th></tr> </tbody> </table> </div> </template> <template v-if="user.agentlevel >= \'6\'"> <div class=center _v-1f6e60f8=""> <mt-button type=primary size=small _v-1f6e60f8="">机构</mt-button> </div> </template> </div> </template> <mt-popup :visible.sync=popupVisible position=center _v-1f6e60f8=""> <div class=popupbox _v-1f6e60f8=""> <mt-radio title=保证金|可退 :value.sync=ensure disabled="" :options="[\'2000￥\']" _v-1f6e60f8=""></mt-radio> <mt-radio title=升级年费 :value.sync=level :options=options _v-1f6e60f8=""></mt-radio> <mt-field label=总金额 disabled="" :value=level type=number _v-1f6e60f8=""></mt-field> <mt-field label=支付密码 type=password :value.sync=paypwd :attr={minlength:6,maxlength:6} _v-1f6e60f8=""></mt-field> <div class=page-button v-if="user.avayundou >= level" _v-1f6e60f8=""> <mt-button type=primary @click=upgrade _v-1f6e60f8="">云豆支付</mt-button> </div> <div class=prompt v-else="" _v-1f6e60f8=""><i class="icon iconfont red" _v-1f6e60f8=""></i> 您没有足够的云豆 <a href=property.html class="mint-button mint-button--primary" _v-1f6e60f8="">立即充值</a></div> </div> </mt-popup> <mt-popup :visible.sync=popupVisible2 position=center _v-1f6e60f8=""> <div class=popupbox _v-1f6e60f8=""> <mt-field label=经纪人手机 :value.sync=agentphone type=text _v-1f6e60f8=""></mt-field> <mt-field label=分成比例(%) type=number :value.sync=rate :attr={min:1,max:99} _v-1f6e60f8=""></mt-field> <div class=page-button _v-1f6e60f8=""> <mt-button type=primary @click=setagent _v-1f6e60f8="">设置</mt-button> </div> </div> </mt-popup> '},769:function(t,e,a){var s,i,n={};a(626),s=a(299),i=a(693),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var f="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(f.template=i),f.computed||(f.computed={}),Object.keys(n).forEach(function(t){var e=n[t];f.computed[t]=function(){return e}})}});