webpackJsonp([22],{0:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=s(11),o=a(n),i=s(766),l=a(i);new o.default({el:"body",components:{App:l.default}})},6:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=s(2),o=a(n);s(4);o.default.Vue.use(o.default.Resource),e.exports={data:function(){return{title:""}},props:["html"],ready:function(){this.title=document.title},methods:{back:function(){this.html?window.location.href=this.html:history.back()}}}},7:function(e,t){},8:function(e,t){e.exports=' <div class=height _v-526c7022=""></div> <div class="backbar clearfix" id=header _v-526c7022=""> <a @click=back class=back _v-526c7022=""><i class="iconfont icon-back" _v-526c7022=""></i></a> <h2 class="title ellipsis" id=title _v-526c7022="">{{title}}</h2> <a href=home.html class=home _v-526c7022=""><i class="iconfont icon-back" _v-526c7022=""></i></a> </div> '},9:function(e,t,s){var a,n,o={};s(7),a=s(6),n=s(8),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(o).forEach(function(e){var t=o[e];i.computed[e]=function(){return t}})},78:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=s(2),o=a(n),i=s(4);o.default.Vue.component(i.Field.name,i.Field),e.exports={data:function(){return{token:""}},props:["stokens","tokens"],ready:function(){},methods:{addTag:function(e){var t=!1;if(!e&&(e=this.token,!this.token))return(0,i.Toast)("标签不能为空"),!1;for(var s=0;s<this.tokens.length;s++)this.tokens[s]===e&&((0,i.Toast)("该标签已经添加"),t=!0);return this.tokens.length>=5?((0,i.Toast)("最多只能添加5个标签"),!1):(t||(this.tokens=this.tokens.concat(e),t=!1,this.token=""),void this.setokens())},setokens:function(){var e=this.tokens.toString();this.$emit("getokens",e)},removeTag:function(e){var t=this;i.MessageBox.confirm("确定删除此标签？").then(function(s){return t.tokens.splice(e,1),(0,i.Toast)("删除成功"),t.setokens(),!1})}}}},97:function(e,t){},101:function(e,t){e.exports=' <mt-field placeholder=请输入可关联的标签 :attr={autocomplete:off,maxlength:6} :value.sync=token _v-434062d4=""><a class=layui-btn @click="addTag(\'\')" _v-434062d4="">添加</a></mt-field> <div class=tokenbox _v-434062d4=""> <div class=tokens v-if=tokens.length _v-434062d4=""> <span v-for="item in tokens" _v-434062d4=""><b _v-434062d4="">{{item}}</b><a class=close @click=removeTag($index) _v-434062d4="">X</a></span> </div> <div class=token_t _v-434062d4=""> 系统推荐标签：<span v-for="item in stokens" v-on:click=addTag(item.value) _v-434062d4="">{{item.value}}</span> </div> </div> '},103:function(e,t,s){var a,n,o={};s(97),a=s(78),n=s(101),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(o).forEach(function(e){var t=o[e];i.computed[e]=function(){return t}})},296:function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(2),o=a(n),i=s(4),l=s(9),u=a(l),d=s(103),c=a(d);o.default.Vue.use(o.default.Resource),o.default.Vue.component(i.Field.name,i.Field),o.default.Vue.component(i.Radio.name,i.Radio),o.default.Vue.component(i.Button.name,i.Button),o.default.Vue.component(i.Popup.name,i.Popup),t.default={data:function(){return{account:"",nickname:"",truename:"",extennum:"",extentime:"",birthday:"",sex:"2",college:"",email:"",sentence:"",stokens:"",keywords:"",tokens:[],user:{},users:{},popupVisible:!1,sexs:[{label:"男",value:"0"},{label:"女",value:"1"},{label:"保密",value:"2"}]}},components:{topBack:u.default,moduleLabel:c.default},ready:function(){this.getData()},methods:{getData:function(){var e=o.default.C.Mpath+"personal";i.Indicator.open(),this.$http.jsonp(e).then(function(e){i.Indicator.close(),this.users=e.data,this.user=e.data.user,this.user.agentlevel>0&&this.user.agentlevel<6&&(this.extennum=e.data.config.param2,this.extentime=e.data.config.param3);var t=e.data.user;this.account=t.account,this.nickname=t.nickname,this.truename=t.truename,this.birthday=t.birthday,this.sex=t.sex,this.college=t.college,this.email=t.email,this.sentence=t.sentence,this.stokens=e.data.diclist,e.data.user.favorite&&(this.keywords=e.data.user.favorite),this.keywords&&(this.tokens=this.keywords.split(","))},function(){i.Indicator.close(),(0,i.Toast)("请求出错")})},setokens:function(e){this.keywords=e},submit:function(){if(!this.testName(this.nickname)||!this.testEmail(this.email))return!1;var e="account="+this.account;e+="&birthday="+this.birthday,e+="&email="+this.email,e+="&nickname="+this.nickname,e+="&sentence="+this.sentence,e+="&sex="+this.sex,e+="&keywords="+this.keywords,this.$http.jsonp(o.default.C.Mpath+"personal/ajaxPersonalSave?"+e).then(function(e){e.data&&((0,i.Toast)("资料设置成功"),setTimeout(function(){location.href="user.html"},1e3))},function(){(0,i.Toast)("请求出错")})},show:function(){this.popupVisible=!this.popupVisible},testName:function(e){var t=/[\u4E00-\u9FA5A-Za-z0-9_*]{1,12}$/;return!(!t.test(e)||""==e)||((0,i.Toast)("请输入正确的昵称"),!1)},testEmail:function(e){var t=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;return!(!t.test(e)||""==e)||((0,i.Toast)("请输入正确的邮箱"),!1)},testPaypass:function(e){var t=/^\d{6}$/;return!!t.test(e)||((0,i.Toast)("支付密码必须为6位数字"),!1)}}}},641:function(e,t){},708:function(e,t){e.exports=' <top-back _v-48978db2=""></top-back> <div class=goodsbox _v-48978db2=""> <mt-field label=昵称 placeholder=请输入昵称 :attr={maxlength:10} :value.sync=nickname _v-48978db2=""></mt-field> <mt-field label=真实姓名 v-if=user.truename :attr={maxlength:10} :value.sync=truename disabled="" _v-48978db2=""></mt-field> <mt-field label=账号类型 v-if="user.artlevel == 0 &amp;&amp; user.agentlevel == 0" value=普通用户 type=text disabled="" _v-48978db2=""> <a class=layui-btn href=prove.html _v-48978db2="">申请认证</a></mt-field> <mt-field label=账号类型 v-if="user.artlevel > 0" value=艺术家 type=text disabled="" _v-48978db2=""></mt-field> <template v-if="user.agentlevel > 0 &amp;&amp; user.agentlevel < 6"> <mt-field label=账号类型 value=经纪人 type=text disabled="" _v-48978db2=""></mt-field> <mt-field label=推广位 :value.sync=extennum type=text disabled="" _v-48978db2=""></mt-field> <mt-field label=推广时长 :value.sync=extentime type=text disabled="" _v-48978db2=""></mt-field> </template> <mt-field label=账号类型 v-if="user.agentlevel == 6" value=机构 type=text disabled="" _v-48978db2=""></mt-field> <mt-field label=性别 type=text :value.sync=sexs[sex].label disabled="" _v-48978db2=""> <a class=layui-btn @click=show _v-48978db2="">选择</a> </mt-field> <mt-field label=生日 placeholder=请输入生日 type=date :value.sync=birthday _v-48978db2=""></mt-field> <mt-field label=毕业院校 v-if=user.college :value.sync=college type=text _v-48978db2=""></mt-field> <mt-field label=邮箱 placeholder=请输入邮箱 type=email :value.sync=email _v-48978db2=""></mt-field> <mt-field label=自我简介 placeholder=自我简介 type=textarea rows=4 :value.sync=sentence _v-48978db2=""></mt-field> <module-label :stokens=stokens :tokens=tokens @getokens=setokens _v-48978db2=""></module-label> <div class=page-button _v-48978db2=""> <mt-button type=primary @click=submit _v-48978db2="">保存设置</mt-button> </div> <mt-popup :visible.sync=popupVisible popup-transition=popup-fade _v-48978db2=""> <div class=popupbox _v-48978db2=""> <mt-radio :value.sync=sex :options=sexs _v-48978db2=""> </mt-radio> </div> </mt-popup> </div> '},766:function(e,t,s){var a,n,o={};s(641),a=s(296),n=s(708),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(o).forEach(function(e){var t=o[e];i.computed[e]=function(){return t}})}});